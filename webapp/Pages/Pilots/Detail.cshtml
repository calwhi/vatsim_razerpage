@page
@model PilotDetailModel
@{ 
    Layout = null;
    /* Borrowing from this: https://docs.microsoft.com/en-us/aspnet/core/data/ef-rp/sort-filter-page?view=aspnetcore-3.1 */
}

<!-- CALEB L WHITE
CIDM 3312 - J BABB
WTAMU FALL 2020 -->

<!DOCTYPE html>
<html>
<head>
    <link href="/lib/twitter-bootstrap/css/bootstrap.css" rel="stylesheet" /> 
    <!-- changed to unminified css so i can add borders to tables */-->
</head>
<body>
    <div class="container">
        <h1>Pilot Details</h1>
        <ul>
            <li>
                <b>Unique CID: </b> @Model.Pilot.Cid
            </li>            
            <li>
                <b>Pilots Name: </b> @Model.Pilot.Realname
            </li>
            <li>
                <b>Callsign:</b> @Model.Pilot.Callsign
            </li>
        </ul>
        <hr>
        <table>
                <tr>
                    <th>Timestamp</th>
                    <th>Latitude</th>
                    <th>Longitude</th>
                    <th>Altitude</th>
                    <th>Groundspeed</th>
                </tr>
                @foreach (var posi in Model.Position) {
                <tr>
                    <td>@posi.TimeStamp</td>
                    <td>@posi.Latitude째</td>
                    <td>@posi.Longitude째</td>
                    <td>@posi.Altitude ft AGL/MSL</td>
                    <td>@posi.Groundspeed knts</td>
                </tr>
                }
        </table>
        <br><br>
        <table>
            <tr>
                <th>Fastest Speed</th>
                <th>Highest Altitude</th>
                <th>Furthest E</th>
                <th>Furthest S</th>
                <th>Most Departures</th>
            </tr>
            <tr>
                <td>@Model.fastestSpeed knts</td>
                <td>@Model.highestAlt ft AGL/MSL</td>
                <td>@Model.lon째</td>
                <td>@Model.lat째</td>
                <td>Departed from @Model.depAirport @Model.depAirportCt times.</td>
            </tr>
            </table>
            <hr>
        <p>
            <a asp-page="/Pilots/Search">
                Back to Pilot Search
            </a>
        </p>
    </div>
</body>
</html>

@* I have revealed the Server JS code so that you can download and run the project code.

Notes on how to use the endpoints are in the README for the CIDM3372/Project folder in the repo: https://github.com/ahuimanu/CIDM3372/tree/master/Project


For the sunrise/sunset endpoint, try different lat/lon combos
For the addsmetar, here is a list of ICAO codes for airports around the world: https://www.airport-data.com/world-airports/icao-code/A.html
I will next reveal most of the client-side JS code and make it clear what you are expected to fill in.
In the interest of a more complete example, I am leaving you not more than 5% of the work to complete. *@